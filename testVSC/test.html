<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <!-- 제이쿼리cdn -->
        <script src="https://code.jquery.com/jquery-latest.min.js"></script>
        <!-- css -->
        <link rel="stylesheet" type="text/css" href="test.css">
        <!-- js -->
        <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    </head>
    <body>
        <script>
            if(clickCount%2=== 1){
    //rainfall 버튼 마커 생성
    for (var i = 0; i < rainfallmap.length; i++) {
                // 마커에 대한 클로저를 생성
                (function (i) {
                    var markerIcon = myIcon2; // 기본 아이콘을 사용

                    var marker = new google
                        .maps
                        .Marker({
                            map: map,
                            position: new google
                                .maps
                                .LatLng(rainfallmap[i].lat, rainfallmap[i].lng),
                            icon: markerIcon
                        });
                })(i); // 즉시 실행 함수로 현재의 i 값을 전달
            }

}
            
            // water level 마커 생성

            for (var i = 0; i < waterLevelmap.length; i++) {
                // 마커에 대한 클로저를 생성
                (function (i) {
                    var markerIcon = myIcon; // 기본 아이콘을 사용

                    var marker = new google
                        .maps
                        .Marker({
                            map: map,
                            position: new google
                                .maps
                                .LatLng(waterLevelmap[i].lat, waterLevelmap[i].lng),
                            icon: markerIcon
                        });
                })(i); // 즉시 실행 함수로 현재의 i 값을 전달
            }

        </script>
        
    </body>
</html>